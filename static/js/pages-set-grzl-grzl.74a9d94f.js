(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-set-grzl-grzl"],{"341f":function(t,e,a){"use strict";a("7a82");var n=a("ee27").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("466d");var i=n(a("f07e")),s=n(a("d0af")),r=n(a("c964")),l=n(a("f3f3")),o=n(a("c6fc")),c=a("26cb"),u=["女","男"],d={data:function(){return{urls:"",sexsi:"",array:[],ageid:0,listgrzl:[],msg:!1,staticUrl:this.$config.staticUrl,imgUrl:this.configs.imgUrl}},computed:{sexType:function(){return u[this.sexsi]}},onShow:function(){this.ongrzlTap(),this.msg&&(uni.showToast({title:"保存成功",icon:"none"}),this.msg=!1)},methods:(0,l.default)((0,l.default)((0,l.default)({},(0,c.mapMutations)(["logout"])),(0,c.mapMutations)(["login"])),{},{ongrzlTap:function(){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var a,n,r,l,o;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,e.next=3,t.$httpas.get("/api/user/index",{},{token:!0});case 3:if(a=e.sent,n=(0,s.default)(a,2),r=n[0],l=n[1],t.$httpas.errorCheck(r,l)){e.next=9;break}return e.abrupt("return");case 9:1===l.data.code?(t.listgrzl=l.data.data,t.sexsi=l.data.data.gender,o=l.data.data.avatar,o.match(/^http/i)?t.urls=l.data.data.avatar:t.urls=t.configs.imgUrl+l.data.data.avatar):(uni.showToast({title:l.data.msg}),t.logining=!1);case 10:case"end":return e.stop()}}),e)})))()},navTo:function(t){uni.navigateTo({url:t,animationType:"slide-in-bottom"})},navsTo:function(t){uni.navigateTo({url:t})},toLogout:function(){uni.showModal({content:"确定要退出登录么",success:function(t){t.confirm&&(uni.clearStorageSync(),setTimeout((function(){uni.navigateBack()}),200))}})},sex:function(){var t=this;uni.showActionSheet({itemList:u,success:function(e){t.sexgender(e)}})},sexgender:function(t){var e=this;return(0,r.default)((0,i.default)().mark((function a(){var n,r,l,o;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e,a.next=3,e.$httpas.post("/api/user/edituser",{sex:t.tapIndex},{token:!0});case 3:if(n=a.sent,r=(0,s.default)(n,2),l=r[0],o=r[1],e.$httpas.errorCheck(l,o)){a.next=9;break}return a.abrupt("return");case 9:1===o.data.code?(e.sexsi=t.tapIndex,uni.showToast({title:"保存成功"})):(uni.showToast({title:o.data.msg}),e.logining=!1);case 10:case"end":return a.stop()}}),a)})))()},doBefore:function(){console.log("doBefore")},clk:function(t){this.$refs.avatar.fChooseImg(t,{selWidth:"350upx",selHeight:"350upx",expWidth:"400upx",expHeight:"400upx",inner:t?"true":"false",canRotate:!1,quality:1})},doUpload:function(t){var e=this;uni.showLoading({title:"加载中"}),uni.uploadFile({url:this.configs.webUrl+"api/user/avatar22?token="+uni.getStorageSync("userinfo").token,filePath:t.path,name:"file",dataType:"json",formData:{token:uni.getStorageSync("userinfo").token,uid:uni.getStorageSync("userinfo").id,base64:t.base64},success:function(t){var a=JSON.parse(t.data);1==a.code?(console.log(a.data.url),e.urls=a.data.url,uni.showToast({title:"修改成功"})):uni.showToast({title:a.msg})},complete:function(t){uni.hideLoading(),console.log(t)}})}}),components:{avatar:o.default}};e.default=d},"462d":function(t,e,a){"use strict";var n=a("61d4"),i=a.n(n);i.a},"61d4":function(t,e,a){var n=a("b9ee");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("08eda4cc",n,!0,{sourceMap:!1,shadowMode:!1})},b1ee:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"list-cell b-b avatar",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clk(0)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("头像")]),a("v-uni-image",{attrs:{src:t.urls,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"list-cell",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("../../set/grzl/nc/nc?ty=nickname&name=呢称&v="+t.listgrzl.nickname)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("昵称")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.nickname))]),a("v-uni-image",{staticStyle:{width:"30upx",height:"30upx","margin-left":"10upx"},attrs:{mode:"aspectFit",src:t.staticUrl+"fh2.png"}})],1),a("v-uni-view",{staticClass:"list-cell m-t b-b",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sex.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("性别")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.sexType))]),a("v-uni-image",{staticStyle:{width:"30upx",height:"30upx","margin-left":"10upx"},attrs:{mode:"aspectFit",src:t.staticUrl+"fh2.png"}})],1),a("v-uni-view",{staticClass:"list-cell",attrs:{"hover-class":"cell-hover","hover-stay-time":50},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo("../../set/grzl/nc/nc?ty=org&name=生日&v="+t.listgrzl.birthday)}}},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("生日")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.birthday))]),a("v-uni-image",{staticStyle:{width:"30upx",height:"30upx","margin-left":"10upx"},attrs:{mode:"aspectFit",src:t.staticUrl+"fh2.png"}})],1),a("v-uni-view",{staticClass:"list-cell"},[a("v-uni-text",{staticClass:"cell-tit"},[t._v("手机号")]),a("v-uni-text",{staticClass:"cell-tip"},[t._v(t._s(t.listgrzl.mobile))])],1),a("avatar",{ref:"avatar",attrs:{quality:"1"},on:{upload:function(e){arguments[0]=e=t.$handleEvent(e),t.doUpload.apply(void 0,arguments)},avtinit:function(e){arguments[0]=e=t.$handleEvent(e),t.doBefore.apply(void 0,arguments)}}})],1)},i=[]},b9ee:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */uni-page-body[data-v-160e155c]{background:#111}body.?%PAGE?%[data-v-160e155c]{background:#111}.yyt-ellipsis[data-v-160e155c]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.avatar[data-v-160e155c]{padding-top:%?40?%!important;padding-bottom:%?40?%!important}.agess[data-v-160e155c]{position:absolute;z-index:2;top:0;right:0;height:100%;line-height:38px;padding-left:200px;padding-right:36px!important;background:transparent}.avatar .cell-tit[data-v-160e155c]{font-weight:700!important}.avatar uni-image[data-v-160e155c]{position:absolute;top:50%;right:36px;width:%?88?%;height:%?88?%;border-radius:50%;margin-top:%?-44?%;z-index:1}.list-cell[data-v-160e155c]{display:flex;align-items:baseline;padding:%?20?% %?30?%;line-height:%?60?%;position:relative;background:#222;justify-content:center;align-items:center}.list-cell.log-out-btn[data-v-160e155c]{margin-top:%?40?%}.list-cell.log-out-btn .cell-tit[data-v-160e155c]{color:#fb603d;text-align:center;margin-right:0}.list-cell.cell-hover[data-v-160e155c]{background:#111}.list-cell.b-b[data-v-160e155c]:after{left:%?30?%}.list-cell.m-t[data-v-160e155c]{margin-top:%?16?%}.list-cell .cell-more[data-v-160e155c]{align-self:baseline;font-size:%?32?%;color:#fff;margin-left:%?10?%}.list-cell .cell-tit[data-v-160e155c]{flex:1;font-size:%?30?%;color:#fff;margin-right:%?10?%}.list-cell .cell-tip[data-v-160e155c]{font-size:%?28?%;color:#909399}.list-cell uni-switch[data-v-160e155c]{-webkit-transform:translateX(%?16?%) scale(.84);transform:translateX(%?16?%) scale(.84)}',""]),t.exports=e},bf33:function(t,e,a){"use strict";a.r(e);var n=a("341f"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},f611:function(t,e,a){"use strict";a.r(e);var n=a("b1ee"),i=a("bf33");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("462d");var r=a("f0c5"),l=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"160e155c",null,!1,n["a"],void 0);e["default"]=l.exports}}]);